<!DOCTYPE html>
<html lang="en">
<head>
    <title>ECharts</title>
    <!-- 来自百度CDN -->
    <script type="text/javascript" src="./esl.js"></script>
</head>
<body>
	<!--<iframe id = "hellocgi" src="cgi-bin/hello.cgi" width="600" height="200"></iframe>-->
	<!--#exec cgi="cgiProgram.cgi"-->
	<!--<script type="text/javascript">window.setInterval(echartsGauge(ec),1000);  </script>-->

    <div id="main2" style="height:600px" align="left"></div>
    <script type="text/javascript">
    	// setInterval(require,1000);//1000为1秒钟
		//while(1)
		{
			//alert("111");
			// 路径配置
			require.config({
				paths:{ 
					'echarts' : './echarts',
					'echarts/chart/bar' : './echarts',
					'echarts/chart/line' : './echarts',
					'echarts/chart/gauge' : './echarts'
				}});
			
			// 使用
			require([
					'echarts',
					'echarts/chart/bar', // 使用柱状图就加载bar模块，按需加载
					'echarts/chart/line',
					'echarts/chart/gauge'],				
				function echartsGauge(ec) {
				
					//var d = window.frames["hellocgi"].document;
					
					//var str = d.getElementsByTagName('h1')[0].innerHTML;
					//alert("111");
					//alert(d.getElementsByTagName('h1')[0].firstChild.data);
				
					
				
				
					var myChart2 = ec.init(document.getElementById('main2')); 
					//alert("111");
					var xxxxx = (Math.random()*100).toFixed(2) - 0;
					var option2 = {
						tooltip : {formatter: "{a} <br/>{b} : {c}%"},
						series : [{
								name:'燃烧值(kcal)',
								type:'gauge',
								detail : {formatter:'{value}摄氏度'},
								data:[{value: xxxxx, name: ''}]
							}]};
						myChart2.setOption(option2);
						
					}
					
	
					 );
					//setTimeout("echartsGauge(ec)",100);  
					windows.setInterval(echartsGauge,1000);//1000为1秒钟
					//var Int;
					//Int = setInterval("echartsGauge()", 1000);
					//Thread.sleep(3000);
					//Thread.sleep(1000);
				}
                windows.setInterval(echartsGauge,1000);//1000为1秒钟
    </script>

</body>
</html>